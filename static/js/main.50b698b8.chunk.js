(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{74:function(t,e,n){},75:function(t,e,n){"use strict";n.r(e);var r,i,o,a,c,s,l,u,d,p,b,g,h,j,v,m,f,O,x,y,k,w,_,S,C,I,D=n(1),z=n.n(D),B=n(14),M=n.n(B),P=n(10),R=n(9),A=n(12),E=n(6),L=(n(19),n(4)),F=n(34),q=n(20),V=(r=function(){function t(e,n){Object(P.a)(this,t),this.rootStore=void 0,this.api=void 0,Object(R.a)(this,"directionsAPI",i,this),this.rootStore=e,this.api=n,Object(L.m)(this)}return Object(A.a)(t,[{key:"loadDirections",value:function(t){this.directionsAPI=new F.Directions(t,{directionsApiKey:"rultzf6771"})}},{key:"getDirection",value:function(t,e,n){return this.api.directions.getDirections(t,e,n)}},{key:"buildDirection",value:function(t,e,n,r){var i=this;return this.getDirection(t,e,n).then((function(t){var e=q(t.data[0].route);return e&&i.rootStore.mapglStore.buildDirection(e.coordinates,r),t}))}},{key:"destroyDirection",value:function(){this.rootStore.mapglStore.destroyDirection()}}]),t}(),i=Object(E.a)(r.prototype,"directionsAPI",[L.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),r),T=n(5),N=n.n(T),W=n(7),G=(o=function(){function t(e,n){Object(P.a)(this,t),this.rootStore=void 0,this.api=void 0,Object(R.a)(this,"searchResults",a,this),Object(R.a)(this,"currentObject",c,this),Object(R.a)(this,"branchesInBuilding",s,this),Object(R.a)(this,"branchesInOrganization",l,this),Object(R.a)(this,"suggestionsResults",u,this),this.searchValue=null,this.reqParams=void 0,this.rootStore=e,this.api=n,Object(L.m)(this)}return Object(A.a)(t,[{key:"setReqParams",value:function(t){return this.reqParams=t}},{key:"setSearchValue",value:function(t){this.searchValue=t}},{key:"getSearchResults",value:function(){var t=Object(W.a)(N.a.mark((function t(e,n,r,i,o){var a,c,s,l=this;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.search.getSearchResults(e,n,r,i,o);case 2:return s=t.sent,console.warn(s),Object(L.o)((function(){var t,e;l.searchResults=null===(t=s.data)||void 0===t||null===(e=t.result)||void 0===e?void 0:e.items})),t.abrupt("return",(null===(a=s.data)||void 0===a||null===(c=a.result)||void 0===c?void 0:c.items)||[]);case 6:case"end":return t.stop()}}),t,this)})));return function(e,n,r,i,o){return t.apply(this,arguments)}}()},{key:"getSearchResultsByQuery",value:function(){var t=Object(W.a)(N.a.mark((function t(e,n,r){var i,o,a,c=this;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.search.getSearchResultsByQuery(e,n,r);case 2:return a=t.sent,Object(L.o)((function(){var t,e;c.searchResults=(null===(t=a.data)||void 0===t||null===(e=t.result)||void 0===e?void 0:e.items)||[]})),t.abrupt("return",(null===(i=a.data)||void 0===i||null===(o=i.result)||void 0===o?void 0:o.items)||[]);case 5:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"getSuggestions",value:function(){var t=Object(W.a)(N.a.mark((function t(e,n){var r,i,o,a=this;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.search.getSuggestions(e,n);case 2:return r=t.sent,i=[],r.data.result&&(null===(o=r.data.result.items)||void 0===o||o.map((function(t){"user_query"!==t.type&&i.push(t)}))),Object(L.o)((function(){a.suggestionsResults=i})),t.abrupt("return",this.suggestionsResults);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getObjectById",value:function(){var t=Object(W.a)(N.a.mark((function t(e){var n,r=this;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.search.getObjectById(e);case 2:return n=t.sent,Object(L.o)((function(){r.currentObject=n.data})),t.abrupt("return",this.currentObject);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getBranchesByBuildingId",value:function(){var t=Object(W.a)(N.a.mark((function t(e){var n,r=this;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.search.getBranchesByBuildingId(e);case 2:return n=t.sent,Object(L.o)((function(){r.branchesInBuilding=n.data})),t.abrupt("return",this.branchesInBuilding);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getBranchesByOrganizationId",value:function(){var t=Object(W.a)(N.a.mark((function t(e){var n,r=this;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.search.getBranchesByOrganizationId(e);case 2:return n=t.sent,Object(L.o)((function(){r.branchesInOrganization=n.data})),t.abrupt("return",this.branchesInBuilding);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"setCurrentObject",value:function(t){return t&&t.address&&(this.getBranchesByBuildingId(t.address.building_id),t.org&&this.getBranchesByOrganizationId(t.org.id)),this.currentObject=t}},{key:"getObjectByGeo",value:function(t){return this.api.search.getObjectByGeo(t)}}]),t}(),a=Object(E.a)(o.prototype,"searchResults",[L.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=Object(E.a)(o.prototype,"currentObject",[L.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=Object(E.a)(o.prototype,"branchesInBuilding",[L.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=Object(E.a)(o.prototype,"branchesInOrganization",[L.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=Object(E.a)(o.prototype,"suggestionsResults",[L.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(E.a)(o.prototype,"getSearchResults",[L.f],Object.getOwnPropertyDescriptor(o.prototype,"getSearchResults"),o.prototype),Object(E.a)(o.prototype,"getSearchResultsByQuery",[L.f],Object.getOwnPropertyDescriptor(o.prototype,"getSearchResultsByQuery"),o.prototype),Object(E.a)(o.prototype,"getSuggestions",[L.f],Object.getOwnPropertyDescriptor(o.prototype,"getSuggestions"),o.prototype),Object(E.a)(o.prototype,"getObjectById",[L.f],Object.getOwnPropertyDescriptor(o.prototype,"getObjectById"),o.prototype),Object(E.a)(o.prototype,"getBranchesByBuildingId",[L.f],Object.getOwnPropertyDescriptor(o.prototype,"getBranchesByBuildingId"),o.prototype),Object(E.a)(o.prototype,"getBranchesByOrganizationId",[L.f],Object.getOwnPropertyDescriptor(o.prototype,"getBranchesByOrganizationId"),o.prototype),Object(E.a)(o.prototype,"setCurrentObject",[L.f],Object.getOwnPropertyDescriptor(o.prototype,"setCurrentObject"),o.prototype),o),H=n(23),U=n(35),Z=(d=function(){function t(e){Object(P.a)(this,t),this.rootStore=void 0,Object(R.a)(this,"mapglAPI",p,this),Object(R.a)(this,"mapgl",b,this),Object(R.a)(this,"markers",g,this),Object(R.a)(this,"polygon",h,this),Object(R.a)(this,"polyline",j,this),Object(R.a)(this,"currentMarkerCoords",v,this),Object(R.a)(this,"currentMarker",m,this),Object(R.a)(this,"locationMarker",f,this),Object(R.a)(this,"myLocation",O,this),this.rootStore=e}return Object(A.a)(t,[{key:"loadMapglAPI",value:function(){var t=Object(W.a)(N.a.mark((function t(){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(U.load)();case 2:this.mapglAPI=t.sent;case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"loadMapgl",value:function(t,e){return this.mapgl=this.mapglAPI?new this.mapglAPI.Map(t,Object(H.a)(Object(H.a)({},e),{},{zoomControl:!1})):null,this.mapgl&&this.rootStore.directionsStore.loadDirections(this.mapgl),this.mapgl}},{key:"setLocationMarker",value:function(t){this.mapgl&&this.mapglAPI&&(this.locationMarker=new this.mapglAPI.Marker(this.mapgl,{coordinates:t}))}},{key:"setMyLocation",value:function(t){return this.myLocation=t}},{key:"buildMarker",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.mapgl&&this.mapglAPI){var n=new this.mapglAPI.Marker(this.mapgl,{coordinates:t,icon:e?"./red-marker.svg":"./marker.svg"});return this.markers.push(n),n}return null}},{key:"setCurrentMarker",value:function(t){return this.currentMarker=t}},{key:"buildPolygon",value:function(t){this.polygon&&this.polygon.destroy(),this.mapglAPI&&this.mapgl&&(this.polygon=new this.mapglAPI.Polygon(this.mapgl,{coordinates:t,interactive:!1}))}},{key:"buildDirection",value:function(t,e){this.destroyDirection(),this.mapglAPI&&this.mapgl&&(this.polyline=new this.mapglAPI.Polyline(this.mapgl,{coordinates:t,color:e}))}},{key:"destroyDirection",value:function(){var t;null===(t=this.polyline)||void 0===t||t.destroy(),this.polyline=null}},{key:"destroyPolygon",value:function(){var t;null===(t=this.polygon)||void 0===t||t.destroy(),this.polygon=null}},{key:"destroyMarkers",value:function(){this.markers.forEach((function(t){t.destroy()})),this.markers=[]}},{key:"setCenter",value:function(t){var e;null===(e=this.mapgl)||void 0===e||e.setCenter(t,{})}},{key:"getZoom",value:function(){var t;return null===(t=this.mapgl)||void 0===t?void 0:t.getZoom()}},{key:"setZoom",value:function(t){var e;null===(e=this.mapgl)||void 0===e||e.setZoom(t)}},{key:"setCurrentMarkerCoords",value:function(t){return this.currentMarkerCoords=t}}]),t}(),p=Object(E.a)(d.prototype,"mapglAPI",[L.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=Object(E.a)(d.prototype,"mapgl",[L.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=Object(E.a)(d.prototype,"markers",[L.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=Object(E.a)(d.prototype,"polygon",[L.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=Object(E.a)(d.prototype,"polyline",[L.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=Object(E.a)(d.prototype,"currentMarkerCoords",[L.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=Object(E.a)(d.prototype,"currentMarker",[L.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=Object(E.a)(d.prototype,"locationMarker",[L.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=Object(E.a)(d.prototype,"myLocation",[L.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[33.36166,35.15753]}}),Object(E.a)(d.prototype,"loadMapglAPI",[L.f],Object.getOwnPropertyDescriptor(d.prototype,"loadMapglAPI"),d.prototype),Object(E.a)(d.prototype,"loadMapgl",[L.f],Object.getOwnPropertyDescriptor(d.prototype,"loadMapgl"),d.prototype),Object(E.a)(d.prototype,"setLocationMarker",[L.f],Object.getOwnPropertyDescriptor(d.prototype,"setLocationMarker"),d.prototype),Object(E.a)(d.prototype,"setMyLocation",[L.f],Object.getOwnPropertyDescriptor(d.prototype,"setMyLocation"),d.prototype),Object(E.a)(d.prototype,"buildMarker",[L.f],Object.getOwnPropertyDescriptor(d.prototype,"buildMarker"),d.prototype),Object(E.a)(d.prototype,"setCurrentMarker",[L.f],Object.getOwnPropertyDescriptor(d.prototype,"setCurrentMarker"),d.prototype),Object(E.a)(d.prototype,"buildPolygon",[L.f],Object.getOwnPropertyDescriptor(d.prototype,"buildPolygon"),d.prototype),Object(E.a)(d.prototype,"buildDirection",[L.f],Object.getOwnPropertyDescriptor(d.prototype,"buildDirection"),d.prototype),Object(E.a)(d.prototype,"destroyDirection",[L.f],Object.getOwnPropertyDescriptor(d.prototype,"destroyDirection"),d.prototype),Object(E.a)(d.prototype,"destroyPolygon",[L.f],Object.getOwnPropertyDescriptor(d.prototype,"destroyPolygon"),d.prototype),Object(E.a)(d.prototype,"destroyMarkers",[L.f],Object.getOwnPropertyDescriptor(d.prototype,"destroyMarkers"),d.prototype),Object(E.a)(d.prototype,"setCurrentMarkerCoords",[L.f],Object.getOwnPropertyDescriptor(d.prototype,"setCurrentMarkerCoords"),d.prototype),d),Q=function t(e){Object(P.a)(this,t),this.api=void 0,this.mapglStore=void 0,this.searchStore=void 0,this.directionsStore=void 0,this.api=e,this.mapglStore=new Z(this),this.searchStore=new G(this,e),this.directionsStore=new V(this,e)},Y=n(0),J=z.a.createContext({}),K=function(t){var e=t.children,n=t.store;return Object(Y.jsx)(J.Provider,{value:n,children:e})},X=n(8),$=n(2),tt=function(){return Object(D.useContext)(J)},et=function(){return tt().mapglStore},nt=function(){return tt().searchStore},rt=n.p+"static/media/burger.e78eec97.svg",it=n.p+"static/media/search.7e6201e0.svg",ot=n.p+"static/media/back-arrow.ecccce44.svg",at=n.p+"static/media/cancel.140bb64c.svg",ct=n(3),st=ct.a.div(x||(x=Object($.a)(["\n  position: absolute;\n  z-index: 2;\n  width: 95%;\n  height: 48px;\n  background: #ffffff;\n  border-radius: 30px;\n  border: #fffff;\n  display: flex;\n  margin: 0 auto;\n  margin-top: 50px;\n  left: 0;\n  right: 0;\n  margin-top: 50px;\n"]))),lt=ct.a.div(y||(y=Object($.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 48px;\n  height: 40px;\n  background: rgba(33, 33, 33, 0.08);\n  border-radius: 20px;\n  margin: 4px;\n"]))),ut=ct.a.div(k||(k=Object($.a)(["\n  background-image: url(",");\n  width: 18px;\n  height: 12px;\n"])),rt),dt=ct.a.div(w||(w=Object($.a)(["\n  background-image: url(",");\n  width: 18px;\n  height: 18px;\n  margin-left: 7px;\n  margin-top: 15px;\n"])),it),pt=ct.a.input(_||(_=Object($.a)(["\n  height: 24px;\n  width: 190px;\n  margin-left: 27px;\n  margin-top: 10px;\n  border: 0;\n"]))),bt=ct.a.div(S||(S=Object($.a)(["\n  background-image: url(",");\n  background-repeat: no-repeat;\n  width: 18px;\n  height: 18px;\n  margin-left: 7px;\n  margin-top: 15px;\n"])),ot),gt=ct.a.div(C||(C=Object($.a)(["\n  background-image: url(",");\n  width: 14px;\n  height: 14px;\n  margin-left: 7px;\n  margin-top: 17px;\n"])),at),ht=function(t){var e=t.searchStore,n=t.mapglStore,r=t.searchInputRef,i=t.setOpenObjectCard,o=t.setIsEnterPressed,a=t.setIsResultsOpen,c=t.destroyAll,s=Object(D.useState)(!1),l=Object(X.a)(s,2),u=(l[0],l[1]),d=Object(D.useState)(""),p=Object(X.a)(d,2),b=p[0],g=p[1];return Object(Y.jsxs)(st,{onKeyDown:function(t){var i;if("Enter"===t.key){if(null===(i=r.current)||void 0===i?void 0:i.value){var a,c,s=null===(a=n.mapgl)||void 0===a?void 0:a.getBounds(),l={type:"query",params:{query:r.current.value}};e.setReqParams(l),e.getSearchResultsByQuery(null===(c=r.current)||void 0===c?void 0:c.value,null===s||void 0===s?void 0:s.northEast,null===s||void 0===s?void 0:s.southWest).then((function(){o(!0)}))}}else o(!1)},style:{justifyContent:b?"space-around":""},onClick:function(){r.current&&r.current.focus()},children:[""===b&&Object(Y.jsx)(lt,{children:Object(Y.jsx)(ut,{})}),""===b&&Object(Y.jsx)(dt,{}),Object(Y.jsxs)("div",{style:{display:"flex"},children:[b&&Object(Y.jsx)(bt,{onClick:function(){var t;(null===r||void 0===r||null===(t=r.current)||void 0===t?void 0:t.value)&&e.searchValue&&(r.current.value=e.searchValue),i(!1)}}),Object(Y.jsx)(pt,{placeholder:"Search",onChange:function(t){var i,o,a;(null===(i=r.current)||void 0===i?void 0:i.value)&&(r.current&&g(null===(o=r.current)||void 0===o?void 0:o.value),e.setSearchValue(null===(a=r.current)||void 0===a?void 0:a.value));e.getSuggestions(t.target.value,n.myLocation)},ref:r,onFocus:function(){u(!0),a(!0),i(!1),o(!1),c()},style:{marginLeft:b?"24px":"27px"},onBlur:function(){return u(!1)}})]}),b&&Object(Y.jsx)(gt,{onClick:function(){var t;(null===(t=r.current)||void 0===t?void 0:t.value)&&(r.current.value="",c(),i(!1),a(!1))}})]})},jt=n.p+"static/media/black-marker.953d3c77.svg",vt=n.p+"static/media/building.33b84d52.svg",mt=n.p+"static/media/branch.267d7457.svg",ft=n.p+"static/media/rubric.6ae348e4.svg",Ot=n.p+"static/media/geo-object.ccba00f5.svg";!function(t){t.branch="branch",t.building="building",t.street="street",t.parking="parking",t.station="station",t.stationMetro="station.metro",t.stationEntrance="station_entrance",t.stationPlatform="station_platform",t.attraction="attraction",t.crossroad="crossroad",t.gate="gate",t.road="road",t.route="route",t.admDiv="adm_div",t.admDivCity="adm_div.city",t.admDivCountry="adm_div.country",t.admDivDistrictArea="adm_div.district_area",t.admDivDistrict="adm_div.district",t.admDivDivision="adm_div.division",t.admDivLivingArea="adm_div.living_area",t.admDivPlace="adm_div.place",t.admDivRegion="adm_div.region",t.admDivSettlement="adm_div.settlement",t.coordinates="coordinates",t.rubric="rubric",t.metarubric="metarubric",t.organization="org"}(I||(I={}));var xt,yt=n(13),kt=n(17),wt=n(15),_t=function t(e){Object(P.a)(this,t),this.axios=void 0,this.axios=e};!function(t){t.V2="2.0",t.V3="3.0"}(xt||(xt={}));var St,Ct,It,Dt,zt,Bt,Mt,Pt,Rt,At,Et,Lt,Ft,qt,Vt,Tt,Nt,Wt,Gt,Ht,Ut,Zt,Qt,Yt,Jt,Kt,Xt,$t,te,ee,ne,re,ie,oe,ae,ce,se,le,ue,de,pe,be,ge,he,je,ve,me,fe,Oe,xe,ye,ke={district:"district_id",building:"building_id",city:"city_id",region:"region_id",rubric:"rubric_id",metarubric:"rubric_id",org:"org_id",id:"id"},we=function(t){Object(kt.a)(n,t);var e=Object(wt.a)(n);function n(){return Object(P.a)(this,n),e.apply(this,arguments)}return Object(A.a)(n,[{key:"getSearchResults",value:function(){var t=Object(W.a)(N.a.mark((function t(e,n,r,i,o){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axios.get("".concat(xt.V3,"/items?page=1&page_size=").concat(o,"&").concat(e,"=").concat(n,"&viewpoint1=").concat(i[0],",").concat(r[1],"&viewpoint2=").concat(r[0],",").concat(i[1],"&fields=items.locale,items.flags,search_attributes,items.adm_div,items.city_alias,items.region_id,items.segment_id,items.reviews,items.point,request_type,context_rubrics,query_context,items.links,items.name_ex,items.org,items.group,items.external_content,items.comment,items.ads.options,items.email_for_sending.allowed,items.stat,items.description,items.geometry.centroid,items.geometry.selection,items.geometry.style,items.timezone_offset,items.context,items.address,items.is_paid,items.access,items.access_comment,items.for_trucks,items.is_incentive,items.paving_type,items.capacity,items.schedule,items.floors,dym,ad,items.rubrics,items.routes,items.reply_rate,items.purpose,items.route_logo,items.has_goods,items.has_apartments_info,items.has_pinned_goods,items.has_realty,items.has_payments,items.is_promoted,items.delivery,items.order_with_cart,search_type,items.has_discount,items.metarubrics,broadcast,items.detailed_subtype,filters,widgets&key=").concat("rultzf6771","&locale=en_CY"));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n,r,i,o){return t.apply(this,arguments)}}()},{key:"getSearchResultsByQuery",value:function(){var t=Object(W.a)(N.a.mark((function t(e,n,r){var i;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axios.get("".concat(xt.V3,"/items?q=").concat(e,"&viewpoint1=").concat(r[0],",").concat(n[1],"&viewpoint2=").concat(n[0],",").concat(r[1],"&fields=items.point,items.address,items.links,items.floors,items.contact_groups,items.schedule,items.rubrics,items.org&page_size=50&radius=10000&key=").concat("rultzf6771"));case 2:return i=t.sent,t.abrupt("return",i);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"getSuggestions",value:function(){var t=Object(W.a)(N.a.mark((function t(e,n){var r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.axios.get("".concat(xt.V3,"/suggests?key=").concat("rultzf6771","&q=").concat(e,"&sort_point=").concat(n[0],",").concat(n[1],"&page_size=12&fields=items.name_ex,items.address,items.full_address_name,items.rubrics,items.org,items.adm_div,items.routes,items.type,items.subtype,items.address,items.search_attributes.personal_priority,items.search_attributes.dgis_source_type,items.segment_id,items.region_id,items.locale,items.group,items.context,search_attributes,items.flags,items.has_exchange&type=adm_div.region,adm_div.district_area,adm_div.city,adm_div.settlement,adm_div.district,adm_div.living_area,adm_div.division,adm_div.place,street,branch,building,road,attraction,crossroad,route,route_type,station,station.metro,user_queries,attribute,rubric,meta_rubric,org,market.category,market.attribute,market.suggestor_category")),t.abrupt("return",r);case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getObjectById",value:function(){var t=Object(W.a)(N.a.mark((function t(e){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axios.get("".concat(xt.V3,"/items/byid?id=").concat(e,"&fields=items.point,items.address,items.links,items.floors,items.contact_groups,items.schedule,items.rubrics,items.org&key=").concat("rultzf6771"));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getObjectByGeo",value:function(){var t=Object(W.a)(N.a.mark((function t(e){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axios.get("".concat(xt.V2,"/geo/search?key=").concat("rultzf6771","&point=").concat(e[0],",").concat(e[1],"&type=adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division,adm_div.district,street,adm_div.living_area,crossroad,building,adm_div.place,attraction,parking,poi&fields=items.locale,items.flags,search_attributes,items.adm_div,items.region_id,items.segment_id,items.reviews,items.point,request_type,context_rubrics,query_context,items.links,items.name_ex,items.org,items.group,items.external_content,items.comment,items.ads.options,items.email_for_sending.allowed,items.stat,items.description,items.geometry.centroid,items.geometry.selection,items.geometry.style,items.timezone_offset,items.context,items.address,items.is_paid,items.access,items.access_comment,items.capacity,items.schedule,items.floors,dym,ad,items.rubrics,items.routes,items.reply_rate,items.purpose,items.route_logo,items.has_goods,items.has_apartments_info,items.has_pinned_goods,items.has_realty,items.has_payments,items.is_promoted,items.delivery,items.order_with_cart,search_type,items.has_discount,items.metarubrics,broadcast,items.detailed_subtype"));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getDirections",value:function(){var t=Object(W.a)(N.a.mark((function t(e,n){var r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("carrouting/6.0.0/global?key=".concat("rultzf6771"),{points:[e,n]});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getBranchesByBuildingId",value:function(){var t=Object(W.a)(N.a.mark((function t(e){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axios.get("".concat(xt.V3,"/items?building_id=").concat(e,"&key=").concat("rultzf6771"));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getBranchesByOrganizationId",value:function(){var t=Object(W.a)(N.a.mark((function t(e){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axios.get("".concat(xt.V2,"/catalog/branch/list?org_id=").concat(e,"&fields=items.point,items.address,items.links,items.floors,items.contact_groups,items.schedule,items.rubrics,items.org,items.full_address_name&key=").concat("rultzf6771"));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),n}(_t),_e=ct.a.div(St||(St=Object($.a)(["\n  flex-direction: column;\n  background: #ffffff;\n  position: absolute;\n  top: 120px;\n  z-index: 60;\n  width: 100%;\n  height: 100%;\n  border-radius: 20px 20px 0px 0px;\n  overflow: scroll;\n"]))),Se=ct.a.div(Ct||(Ct=Object($.a)(["\n  min-height: 72px;\n  display: flex;\n  align-items: center;\n  border-top: 3px solid #fafafafa;\n"]))),Ce=ct.a.p(It||(It=Object($.a)(["\n  width: 24px;\n  height: 24px;\n  background-repeat: no-repeat;\n  background-position: center;\n  margin-left: 22px;\n"]))),Ie=ct.a.div(Dt||(Dt=Object($.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),De=ct.a.div(zt||(zt=Object($.a)(["\n  margin-left: 29px;\n"]))),ze=ct.a.div(Bt||(Bt=Object($.a)(["\n  margin-left: 29px;\n  color: rgba(0, 0, 0, 0.6);\n  line-height: 20px;\n  letter-spacing: 0.25px;\n  font-size: 14px;\n"]))),Be=ct.a.div(Mt||(Mt=Object($.a)(["\n  margin-left: 16px;\n  margin-top: 39px;\n"]))),Me=ct.a.div(Pt||(Pt=Object($.a)(["\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 24px;\n  letter-spacing: 0.15px;\n  color: #000000;\n"]))),Pe=ct.a.div(Rt||(Rt=Object($.a)(["\n  font-weight: normal;\n  font-size: 16px;\n  line-height: 24px;\n  letter-spacing: 0.5px;\n  color: #000000;\n"]))),Re=Object(yt.a)((function(t){var e,n=t.searchStore,r=t.setOpenObjectCard,i=t.mapglStore,o=t.searchInputRef,a=t.isEnterPressed,c=t.destroyAll,s=t.isResultsOpen,l=t.setIsResultsOpen,u=t.isDirectionCard,d=t.setIsMarkerCentred,p=function(){var t=Object(W.a)(N.a.mark((function t(e){var a,s,u,p,g,h;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d(!1),c(),o.current&&(o.current.value=e.name),"rubric"!==e.type&&"metarubric"!==e.type&&"org"!==e.type){t.next=14;break}return s={type:"id",params:{idType:ke[e.type],id:e.id}},n.setReqParams(s),u=null===(a=i.mapgl)||void 0===a?void 0:a.getBounds(),t.next=9,n.getSearchResults(s.params.idType,s.params.id,null===u||void 0===u?void 0:u.northEast,null===u||void 0===u?void 0:u.southWest,50);case 9:t.sent.map((function(t){if(t.point){var e=i.buildMarker([t.point.lon,t.point.lat]);null===e||void 0===e||e.on("click",(function(){b(e,t)}))}})),l(!1),t.next=22;break;case 14:return t.next=16,n.getObjectById(e.id);case 16:g=t.sent,h=null===(p=g.result)||void 0===p?void 0:p.items[0],n.setCurrentObject(h),i.buildMarker([h.point.lon,h.point.lat]),i.setCenter([h.point.lon,h.point.lat]),r(!0);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(t,e){u||(i.currentMarker&&i.currentMarker.setIcon({icon:"./marker.svg"}),i.setCurrentMarker(t),t.setIcon({icon:"./red-marker.svg"}),n.setCurrentObject(e),r(!0),i.setCurrentMarkerCoords([e.point.lon,e.point.lat]),i.setCenter([e.point.lon,e.point.lat]))};Object(D.useEffect)((function(){var t;a&&n.searchResults.length&&(n.searchResults.map((function(t){var e=(null===t||void 0===t?void 0:t.point)&&i.buildMarker([t.point.lon,t.point.lat]);null===e||void 0===e||e.on("click",(function(){b(e,t)}))})),l(!1),null===(t=o.current)||void 0===t||t.blur())}),[a]),Object(D.useEffect)((function(){var t;!s&&(null===(t=o.current)||void 0===t?void 0:t.onfocus)&&(o.current.onfocus=function(){!s&&l(!0)})}),[s,o]);var g=function(t){return"org"===t.type?"organization":"branch"===t.type?(console.warn(Object(L.p)(t)),(null===t||void 0===t?void 0:t.type)+", "+((null===t||void 0===t||null===(e=t.adm_div)||void 0===e?void 0:e.length)&&(null===t||void 0===t?void 0:t.adm_div[(null===(n=t.adm_div)||void 0===n?void 0:n.length)-1].name))+", "+(null===t||void 0===t?void 0:t.adm_div[(null===(r=t.adm_div)||void 0===r?void 0:r.length)-2].name)||(null===t||void 0===t?void 0:t.full_name)):(null===t||void 0===t?void 0:t.type)+", "+((null===t||void 0===t||null===(i=t.adm_div)||void 0===i?void 0:i.length)&&(null===t||void 0===t?void 0:t.adm_div[(null===(o=t.adm_div)||void 0===o?void 0:o.length)-1].name))||(null===t||void 0===t?void 0:t.full_name);var e,n,r,i,o};return Object(Y.jsx)(Y.Fragment,{children:s&&Object(Y.jsxs)(_e,{style:{display:(null===o||void 0===o||null===(e=o.current)||void 0===e?void 0:e.value)?"flex":"none"},children:[n.suggestionsResults.map((function(t,e){return Object(Y.jsxs)(Se,{onClick:function(){return p(t)},style:{marginBottom:n.suggestionsResults.length-1===e?"200px":"0"},children:[Object(Y.jsx)(Ce,{style:{backgroundImage:"url(".concat((r=t.type,r===I.branch||r===I.organization?mt:r===I.admDiv||r===I.admDivCity||r===I.admDivCountry||r===I.admDivDistrict||r===I.admDivDistrictArea||r===I.admDivPlace||r===I.admDivRegion||r===I.admDivSettlement?jt:r===I.building?vt:r===I.metarubric||r===I.rubric?ft:Ot),")")}}),Object(Y.jsxs)(Ie,{children:[Object(Y.jsx)(De,{children:null===t||void 0===t?void 0:t.name}),Object(Y.jsx)(ze,{children:g(t)})]})]},t.id);var r})),a&&Object(Y.jsxs)(Be,{children:[Object(Y.jsx)(Me,{children:"No Results Found"}),Object(Y.jsx)(Pe,{children:"Try searching for something else, check for typos or rephrase it"})]})]})})})),Ae=n(39),Ee=n(40),Le=n.n(Ee),Fe=[{title:"Company",type:"branch"},{title:"Building",type:"building"},{title:"Street",type:"street"},{title:"Parking",type:"parking"},{title:"Station",type:"station"},{title:"Attraction",type:"attraction"},{title:"Crossroad",type:"crossroad"},{title:"Gate",type:"gate"},{title:"Road",type:"road"},{title:"Route",type:"route"},{title:"Administrative Division",type:"adm_div"},{title:"City",type:"adm_div.city"},{title:"Country",type:"adm_div.country"},{title:"District Area",type:"adm_div.district_area"},{title:"District",type:"adm_div.district"},{title:"Division",type:"adm_div.division"},{title:"Living Area",type:"adm_div.living_area"},{title:"Place",type:"adm_div.place"},{title:"Region",type:"adm_div.region"},{title:"Settlement",type:"adm_div.settlement"},{title:"Coordinates",type:"coordinates"}],qe=n.p+"static/media/arrow-left.5503f9f6.svg",Ve=ct.a.div(At||(At=Object($.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  position: absolute;\n  z-index: 900;\n  background-color: #ffffff;\n"]))),Te=ct.a.div(Et||(Et=Object($.a)(["\n  display: flex;\n  align-items: center;\n  width: 375px;\n  height: 64px;\n  margin-top: 10px;\n  border-bottom: solid 1px rgba(33, 33, 33, 0.08);\n  border-bottom-color: rgba(33, 33, 33, 0.08);\n"]))),Ne=ct.a.div(Lt||(Lt=Object($.a)(["\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 24px;\n  letter-spacing: 0.15px;\n  color: rgba(0, 0, 0, 0.87);\n"]))),We=ct.a.p(Ft||(Ft=Object($.a)(["\n  background-image: url(",");\n  background-repeat: no-repeat;\n  width: 12px;\n  height: 12px;\n  margin: 0 32px;\n"])),qe),Ge=ct.a.div(qt||(qt=Object($.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 100%;\n  height: 64px;\n  border-bottom: solid 1px rgba(33, 33, 33, 0.08);\n  border-bottom-color: rgba(33, 33, 33, 0.08);\n"]))),He=ct.a.div(Vt||(Vt=Object($.a)(["\n  font-family: Inter;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  line-height: 24px;\n  letter-spacing: 0.15px;\n  color: rgba(0, 0, 0, 0.87);\n  margin-left: 16px;\n"]))),Ue=ct.a.div(Tt||(Tt=Object($.a)(["\n  font-family: Inter;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 20px;\n  letter-spacing: 0.25px;\n  color: rgba(0, 0, 0, 0.6);\n  margin-left: 16px;\n"]))),Ze=ct.a.div(Nt||(Nt=Object($.a)(["\n  width: 100%;\n  height: 800px;\n  overflow: scroll;\n"]))),Qe=function(t){var e=t.setIsOpen,n=t.searchStore,r=t.item;t.mapglStore;return Object(Y.jsxs)(Ge,{onClick:function(){n.getObjectById(r.id).then((function(t){var r;t&&n.setCurrentObject(null===(r=t.result)||void 0===r?void 0:r.items[0]),e(!1)}))},children:[Object(Y.jsx)(He,{children:"".concat(r.name)}),Object(Y.jsx)(Ue,{children:"".concat(r.address_comment||r.purpose_name)})]})},Ye=function(t){var e=t.setIsOpen,n=nt(),r=et();return Object(Y.jsxs)(Ve,{children:[Object(Y.jsxs)(Te,{children:[Object(Y.jsx)(We,{onClick:function(){return e(!1)}}),Object(Y.jsx)(Ne,{children:"Companies"})]}),Object(Y.jsx)(Ze,{children:n.branchesInBuilding.result.items.map((function(t){return Object(Y.jsx)(Qe,{item:t,setIsOpen:e,searchStore:n,mapglStore:r},t.id)}))})]})},Je=n.p+"static/media/green-marker.30aab809.svg",Ke=n.p+"static/media/building-icon.ba15730a.svg",Xe=n.p+"static/media/buildings-green.d86a6822.svg",$e=n.p+"static/media/arrow-right.a70d4ef3.svg",tn=n.p+"static/media/work-time.056843a8.svg",en=n.p+"static/media/phone.0d461ee9.svg",nn=n.p+"static/media/internet.dab33b8c.svg",rn=n.p+"static/media/arrow-down.cc14feef.svg",on=n.p+"static/media/share.4a856fc8.svg",an=n.p+"static/media/icon-button.510f85c7.svg",cn=n.p+"static/media/entrance.4362b935.svg",sn=n.p+"static/media/facebook.5e19df6c.svg",ln=n.p+"static/media/instagram.a062d315.svg",un=ct.a.div(Wt||(Wt=Object($.a)(["\n  flex-direction: column;\n  background: #ffffff;\n  justify-content: flex-start;\n  bottom: 0;\n  position: absolute;\n  width: 100%;\n  border-radius: 20px 20px 0px 0px;\n  transition-property: height;\n  transition-duration: 0.3s;\n  z-index: 60;\n"]))),dn=ct.a.div(Gt||(Gt=Object($.a)(["\n  height: 1px;\n  width: 100%;\n  background-color: rgba(33, 33, 33, 0.08);\n"]))),pn=ct.a.div(Ht||(Ht=Object($.a)(["\n  display: flex;\n  margin: 9px 24px 11px 24px;\n"]))),bn=ct.a.div(Ut||(Ut=Object($.a)(["\n  display: flex;\n  flex-direction: row;\n  margin: 18px 24px;\n"]))),gn=ct.a.p(Zt||(Zt=Object($.a)(["\n  font-family: Inter;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 24px;\n  letter-spacing: 0.15px;\n  margin-bottom: 1px;\n  color: rgba(0, 0, 0, 0.87);\n  width: 250px\n"]))),hn=ct.a.div(Qt||(Qt=Object($.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),jn=ct.a.p(Yt||(Yt=Object($.a)(["\n  font-family: Inter;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 20px;\n  letter-spacing: 0.25px;\n  color: rgba(0, 0, 0, 0.6);\n"]))),vn=ct.a.p(Jt||(Jt=Object($.a)(["\n  font-family: Inter;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  line-height: 24px;\n  color: rgba(0, 0, 0, 0.87);\n  width: 68%;\n  margin-right: 11px;\n"]))),mn=ct.a.p(Kt||(Kt=Object($.a)(["\n  background-image: url(",");\n  height: 24px;\n  width: 24px;\n  background-repeat: no-repeat;\n  background-position: center;\n  margin-right: 16px;\n"])),Je),fn=ct.a.p(Xt||(Xt=Object($.a)(["\n  background-image: url(",");\n  height: 24px;\n  width: 24px;\n  margin-right: 16px;\n"])),Ke),On=ct.a.p($t||($t=Object($.a)(["\n  background-image: url(",");\n  height: 19px;\n  width: 22px;\n  margin-right: 16px;\n  margin-left: 27px;\n  margin-bottom: 7%;\n"])),Xe),xn=ct.a.p(te||(te=Object($.a)(["\n  background-image: url(",");\n  background-repeat: no-repeat;\n  width: 12px;\n  height: 12px;\n  margin-right: 24px;\n"])),$e),yn=ct.a.p(ee||(ee=Object($.a)(["\n  background-image: url(",");\n  height: 24px;\n  width: 24px;\n  margin-right: 16px;\n"])),tn),kn=ct.a.p(ne||(ne=Object($.a)(["\n  background-image: url(",");\n  height: 24px;\n  width: 24px;\n  margin-right: 16px;\n"])),en),wn=ct.a.p(re||(re=Object($.a)(["\n  background-image: url(",");\n  height: 24px;\n  width: 24px;\n  margin-right: 16px;\n"])),nn),_n=ct.a.p(ie||(ie=Object($.a)(["\n  background-image: url(",");\n  height: 24px;\n  width: 24px;\n  margin-right: 16px;\n"])),cn),Sn=ct.a.p(oe||(oe=Object($.a)(["\n  background-image: url(",");\n  background-repeat: no-repeat;\n  width: 14px;\n  height: 12px;\n  margin-right: 28px;\n"])),rn),Cn=ct.a.p(ae||(ae=Object($.a)(["\n  background-image: url(",");\n  height: 18px;\n  width: 18px;\n"])),on),In=ct.a.p(ce||(ce=Object($.a)(["\n  background-image: url(",");\n  height: 66px;\n  width: 66px;\n  margin: 4px;\n"])),ln),Dn=ct.a.p(se||(se=Object($.a)(["\n  background-image: url(",");\n  height: 66px;\n  width: 66px;\n  margin: 4px;\n"])),sn),zn=ct.a.div(le||(le=Object($.a)(["\ndisplay: flex;\n"]))),Bn=ct.a.div(ue||(ue=Object($.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]))),Mn=ct.a.p(de||(de=Object($.a)(["\n  background-image: url(",");\n  width: 70px;\n  height: 70px;\n  display: flex;\n  position: absolute;\n  filter: drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.1))\n    drop-shadow(2px 2px 10px rgba(0, 0, 0, 0.08));\n  margin-right: 13px;\n"])),an),Pn=ct.a.div(pe||(pe=Object($.a)(["\nwidth: 36px;\nmin-height: 4px;\nborder-radius: 4px;\nbackground: #DBDBDB;\nmargin: 8px auto;\n"]))),Rn=ct.a.div(be||(be=Object($.a)(["\nfont-family: Inter;\nfont-style: normal;\nfont-weight: normal;\nfont-size: 14px;\nline-height: 20px;\nletter-spacing: 0.25px;\ncolor: rgba(0, 0, 0, 0.6);\n"]))),An=ct.a.div(ge||(ge=Object($.a)(["\nfont-family: Inter;\nfont-style: normal;\nfont-weight: 500;\nfont-size: 14px;\nline-height: 16px;\nletter-spacing: 1.25px;\ntext-transform: uppercase;\ncolor: rgba(0, 0, 0, 0.6);\nmargin: 16px;\n"]))),En=ct.a.div(he||(he=Object($.a)(["\ndisplay: flex;\nalign-items: center;\njustify-content: space-between;\nmargin-bottom: 32px;\n"]))),Ln=ct.a.div(je||(je=Object($.a)(["\ndisplay: flex;\nalign-items: center;\njustify-content: space-between;\n  border-bottom: solid 2px rgba(33,33,33,0.08);\n"]))),Fn=ct.a.div(ve||(ve=Object($.a)(["\nfont-family: Inter;\nfont-style: normal;\nfont-weight: normal;\nfont-size: 16px;\nline-height: 24px;\nletter-spacing: 0.15px;\ncolor: rgba(0, 0, 0, 0.87);\n  margin: 6px 16px 11px 16px;\n"]))),qn=ct.a.div(me||(me=Object($.a)(["\nfont-family: Inter;\nfont-style: normal;\nfont-weight: 500;\nfont-size: 14px;\nline-height: 24px;\nletter-spacing: 0.1px;\ncolor: rgba(0, 0, 0, 0.87);\ndisplay: flex;\nalign-items: center;\njustify-content: center;\n"]))),Vn=ct.a.div(fe||(fe=Object($.a)(["\n  background: rgba(33, 33, 33, 0.08);\n  border-radius: 16px;\n  height: 32px;\n  margin-right: 8px;\n  margin-bottom: 8px;\n"]))),Tn=ct.a.div(Oe||(Oe=Object($.a)(["\n  font-family: Intel;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 20px;\n  letter-spacing: 0.25px;\n  color: rgba(0, 0, 0, 0.87);\n  margin: 6px 12px;\n"]))),Nn=ct.a.div(xe||(xe=Object($.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0 16px 100px 16px;\n"])));!function(t){t.URL="url",t.ROUTE="route",t.SHARE_INFO="share_info"}(ye||(ye={}));var Wn,Gn=function(t){var e,n,r,i,o,a,c,s,l,u,d,p,b,g,h,j,v,m,f,O,x,y,k,w,_,S,C,I,D,z,B,M=t.isOpen,P=t.searchStore,R=(t.routTime,t.setCompaniesListIsOpen),A=t.shareData,E=t.mapglStore,L=t.coordinates;return Object(Y.jsxs)(Y.Fragment,{children:[(null===(e=P.currentObject)||void 0===e?void 0:e.address)?Object(Y.jsxs)(bn,{children:[Object(Y.jsx)(mn,{onClick:function(){return E.setCenter(L)}}),Object(Y.jsxs)(vn,{onClick:function(){return E.setCenter(L)},children:[(null===(n=P.currentObject)||void 0===n||null===(r=n.address)||void 0===r?void 0:r.postcode)&&(null===(i=P.currentObject.address)||void 0===i?void 0:i.postcode)+", ",null===(o=P.currentObject)||void 0===o?void 0:o.address_name]}),M?null:Object(Y.jsx)(Cn,{onClick:function(){var t;return A({type:ye.SHARE_INFO,data:P.currentObject?null===(t=P.currentObject)||void 0===t?void 0:t.address.building_id:""})}})]}):Object(Y.jsxs)(bn,{children:[Object(Y.jsx)(mn,{}),Object(Y.jsx)(vn,{children:null===(a=P.currentObject)||void 0===a?void 0:a.full_name}),M?null:Object(Y.jsx)(Cn,{onClick:function(){var t;return A({type:ye.SHARE_INFO,data:P.currentObject?null===(t=P.currentObject)||void 0===t?void 0:t.address.building_id:""})}})]}),(null===(c=P.currentObject)||void 0===c||null===(s=c.links)||void 0===s||null===(l=s.branches)||void 0===l?void 0:l.count)?Object(Y.jsxs)(bn,{children:[Object(Y.jsx)(fn,{}),Object(Y.jsx)(vn,{children:(null===(u=P.currentObject)||void 0===u?void 0:u.floors)&&(null===(d=P.currentObject)||void 0===d||null===(p=d.links)||void 0===p||null===(b=p.branches)||void 0===b?void 0:b.count)&&"".concat(null===(g=P.currentObject)||void 0===g?void 0:g.floors.ground_count," floor | ").concat(null===(h=P.currentObject)||void 0===h||null===(j=h.links)||void 0===j||null===(v=j.branches)||void 0===v?void 0:v.count," companies")||(null===(m=P.currentObject)||void 0===m?void 0:m.floors)&&"".concat(null===(f=P.currentObject)||void 0===f?void 0:f.floors.ground_count," floor")||(null===(O=P.currentObject)||void 0===O||null===(x=O.links)||void 0===x||null===(y=x.branches)||void 0===y?void 0:y.count)&&"".concat(null===(k=P.currentObject)||void 0===k||null===(w=k.links)||void 0===w||null===(_=w.branches)||void 0===_?void 0:_.count," companies")})]}):null,(null===(S=P.currentObject)||void 0===S||null===(C=S.links)||void 0===C||null===(I=C.branches)||void 0===I?void 0:I.count)&&M?Object(Y.jsxs)("div",{children:[Object(Y.jsx)(dn,{style:{height:"2px"}}),Object(Y.jsx)(An,{children:"\u0421ompanies"}),Object(Y.jsxs)(bn,{onClick:function(){return R(!0)},style:{height:"72px",width:"100%",borderBottom:"solid 1px rgba(33, 33, 33, 0.08)",alignItems:"center",margin:"18px 0"},children:[Object(Y.jsx)(On,{}),Object(Y.jsxs)("div",{style:{width:"360px"},children:[Object(Y.jsx)(vn,{children:"All Companies"}),Object(Y.jsx)(Rn,{children:"".concat(null===(D=P.currentObject)||void 0===D||null===(z=D.links)||void 0===z||null===(B=z.branches)||void 0===B?void 0:B.count," companies")})]}),Object(Y.jsx)(xn,{})]})]}):null]})},Hn=function(t){var e,n,r,i,o,a,c=t.isOpen,s=t.searchStore,l=t.shareData,u=t.mapglStore,d=t.coordinates;return Object(Y.jsx)(Y.Fragment,{children:(null===(e=s.currentObject)||void 0===e?void 0:e.address)?Object(Y.jsxs)(bn,{children:[Object(Y.jsx)(mn,{}),Object(Y.jsxs)(vn,{children:[(null===(n=s.currentObject)||void 0===n||null===(r=n.address)||void 0===r?void 0:r.postcode)&&(null===(i=s.currentObject.address)||void 0===i?void 0:i.postcode)+", ",null===(o=s.currentObject)||void 0===o?void 0:o.address_name]}),c?null:Object(Y.jsx)(Cn,{onClick:function(){var t,e;return l({type:ye.SHARE_INFO,data:s.currentObject?"".concat(null===(t=s.currentObject)||void 0===t?void 0:t.point.lon," ").concat(null===(e=s.currentObject)||void 0===e?void 0:e.point.lat):""})}})]}):Object(Y.jsxs)(bn,{children:[Object(Y.jsx)(mn,{onClick:function(){return u.setCenter(d)}}),Object(Y.jsx)(vn,{onClick:function(){return u.setCenter(d)},children:null===(a=s.currentObject)||void 0===a?void 0:a.full_name}),c?null:Object(Y.jsx)(Cn,{onClick:function(){var t,e;return l({type:ye.SHARE_INFO,data:s.currentObject&&s.currentObject.point?"".concat(null===(t=s.currentObject)||void 0===t?void 0:t.point.lon).concat(null===(e=s.currentObject)||void 0===e?void 0:e.point.lat):""})}})]})})};!function(t){t.Email="email",t.Website="website",t.Phone="phone",t.Fax="fax",t.Icq="icq",t.Jabber="jabber",t.Skype="skype",t.Vkontakte="vkontakte",t.Twitter="twitter",t.Instagram="instagram",t.Facebook="facebook",t.Pobox="pobox",t.Youtube="youtube",t.Odnoklassniki="odnoklassniki",t.Googleplus="googleplus",t.Linkedin="linkedin",t.Pinterest="pinterest",t.Whatsapp="whatsapp",t.Telegram="telegram",t.Viber="viber"}(Wn||(Wn={}));var Un,Zn,Qn,Yn,Jn,Kn,Xn,$n,tr,er,nr,rr,ir,or,ar,cr,sr,lr,ur,dr,pr,br,gr,hr,jr,vr,mr,fr=n(20),Or=function(t){var e,n,r,i,o,a,c,s,l,u,d,p,b,g,h,j,v,m,f,O,x,y,k,w,_,S,C,I,z,B,M,P,R,A,E,L,F,q,V=t.searchStore,T=t.isSwipeOpen,N=t.setCompaniesListIsOpen,W=t.mapglStore,G=t.setSwipeIsOpen,H=t.shareData,U=t.coordinates,Z="",Q="",J=function(t){var e,n;if(null===(e=V.currentObject)||void 0===e?void 0:e.contact_groups)return null===(n=V.currentObject)||void 0===n?void 0:n.contact_groups[0].contacts.some((function(e){return e.type===t}))},K=function(t){var e,n,r=[];if(null===(e=V.currentObject)||void 0===e?void 0:e.contact_groups)return null===(n=V.currentObject)||void 0===n||n.contact_groups.forEach((function(t){return t.contacts.forEach((function(t){t.type===Wn.Instagram&&(Z=t.url),t.type===Wn.Facebook&&(Q=t.url),r.push(t)}))})),r.map((function(e,n){if(e.type===t)return e.type===Wn.Website?Object(Y.jsx)(vn,{onClick:function(){return H({type:ye.URL,data:e.url})},children:"".concat(e.text)},e.value):Object(Y.jsx)(vn,{children:"".concat(e.text)},e.value)}))},$=Object(D.useState)([]),tt=Object(X.a)($,2),et=tt[0],nt=tt[1];return Object(D.useEffect)((function(){!function(){var t,e,n,r,i,o,a,c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=(new Date).getDay();(null===(t=V.currentObject)||void 0===t?void 0:t.schedule)&&nt([null===(e=V.currentObject)||void 0===e||null===(n=e.schedule[c[s]])||void 0===n||null===(r=n.working_hours[0])||void 0===r?void 0:r.from,null===(i=V.currentObject)||void 0===i||null===(o=i.schedule[c[s]])||void 0===o||null===(a=o.working_hours[0])||void 0===a?void 0:a.to])}()}),[null===(e=V.currentObject)||void 0===e?void 0:e.schedule]),Object(Y.jsxs)("div",{style:{display:"flex",flexDirection:"column",overflow:T?"scroll":"hidden"},children:[Object(Y.jsxs)(bn,{children:[Object(Y.jsx)(mn,{onClick:function(){return W.setCenter(U)}}),Object(Y.jsxs)(vn,{onClick:function(){return W.setCenter(U)},children:[(null===(n=V.currentObject)||void 0===n?void 0:n.full_name)?(null===(r=V.currentObject)||void 0===r?void 0:r.full_name)+", ":null,(null===(i=V.currentObject)||void 0===i||null===(o=i.address)||void 0===o?void 0:o.postcode)&&(null===(a=V.currentObject.address)||void 0===a?void 0:a.postcode)+", ",null===(c=V.currentObject)||void 0===c?void 0:c.address_name]}),T?null:Object(Y.jsx)(Cn,{onClick:function(){return H({type:ye.SHARE_INFO,data:V.currentObject?V.currentObject.id:""})}})]}),(null===(s=V.currentObject)||void 0===s||null===(l=s.links)||void 0===l||null===(u=l.branches)||void 0===u?void 0:u.count)?Object(Y.jsxs)(bn,{children:[Object(Y.jsx)(fn,{}),Object(Y.jsx)(vn,{children:(null===(d=V.currentObject)||void 0===d?void 0:d.floors)&&(null===(p=V.currentObject)||void 0===p||null===(b=p.links)||void 0===b||null===(g=b.branches)||void 0===g?void 0:g.count)&&"".concat(null===(h=V.currentObject)||void 0===h?void 0:h.floors.ground_count," floor | ").concat(null===(j=V.currentObject)||void 0===j||null===(v=j.links)||void 0===v||null===(m=v.branches)||void 0===m?void 0:m.count," companies")||(null===(f=V.currentObject)||void 0===f?void 0:f.floors)&&"".concat(null===(O=V.currentObject)||void 0===O?void 0:O.floors.ground_count," floor")||(null===(x=V.currentObject)||void 0===x||null===(y=x.links)||void 0===y||null===(k=y.branches)||void 0===k?void 0:k.count)&&"".concat(null===(w=V.currentObject)||void 0===w||null===(_=w.links)||void 0===_||null===(S=_.branches)||void 0===S?void 0:S.count," companies")})]}):null,T?Object(Y.jsxs)(Y.Fragment,{children:[(null===(C=V.currentObject)||void 0===C||null===(I=C.links)||void 0===I?void 0:I.entrances)?Object(Y.jsxs)(bn,{onClick:function(){return function(){var t,e,n=fr(null===(t=V.currentObject)||void 0===t||null===(e=t.links)||void 0===e?void 0:e.entrances[0].geometry.points[0]).coordinates;W.buildMarker(n),W.setCenter(n),W.setZoom(18),G(!1)}()},children:[Object(Y.jsx)(_n,{}),Object(Y.jsx)(vn,{style:{color:"#23B064"},children:"Show entrance on map"})]}):null,(null===(z=V.currentObject)||void 0===z?void 0:z.schedule)?Object(Y.jsxs)(bn,{children:[Object(Y.jsx)(yn,{}),Object(Y.jsx)(vn,{children:"Daily ".concat(et[0]," \u2014 \n                        ").concat(et[1]," Open")})]}):null,J(Wn.Phone)?Object(Y.jsxs)(bn,{children:[Object(Y.jsx)(kn,{}),Object(Y.jsx)("div",{style:{width:"100%"},children:K(Wn.Phone)})]}):null,J(Wn.Website)?Object(Y.jsxs)(bn,{children:[Object(Y.jsx)(wn,{}),Object(Y.jsxs)("div",{children:[K(Wn.Website),Object(Y.jsxs)(zn,{children:[J(Wn.Instagram)?Object(Y.jsx)(In,{onClick:function(){return H({type:ye.URL,data:Z})}}):null,J(Wn.Facebook)?Object(Y.jsx)(Dn,{onClick:function(){return H({type:ye.URL,data:Q})}}):null]})]})]}):null,parseInt(null===(B=V.currentObject)||void 0===B||null===(M=B.org)||void 0===M?void 0:M.branch_count)>1?Object(Y.jsxs)("div",{children:[Object(Y.jsx)(dn,{style:{height:"2px"}}),Object(Y.jsx)(An,{children:"other branches"}),Object(Y.jsxs)(bn,{style:{width:"100%",borderBottom:"solid 1px rgba(33, 33, 33, 0.08)",margin:"18px 0 6px 0"},children:[Object(Y.jsx)(On,{}),Object(Y.jsx)("div",{style:{width:"100%"},children:null===(P=V.branchesInOrganization)||void 0===P?void 0:P.result.items.map((function(t){return Object(Y.jsxs)(En,{onClick:function(){var e;e=t.id,V.getObjectById(e).then((function(t){var e;t&&V.setCurrentObject(null===(e=t.result)||void 0===e?void 0:e.items[0]),G(!1)}))},children:[Object(Y.jsx)(vn,{children:"".concat(t.full_address_name,", ").concat(t.address.postcode)}),Object(Y.jsx)(xn,{})]},t.id)}))})]})]}):null,(null===(R=V.currentObject)||void 0===R||null===(A=R.links)||void 0===A?void 0:A.branches)?Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)(Ln,{onClick:function(){N(!0),G(!1)},children:[Object(Y.jsx)(Fn,{children:"All companies"}),Object(Y.jsxs)(qn,{children:[Object(Y.jsx)("div",{style:{margin:"0 8px"},children:null===(E=V.currentObject)||void 0===E||null===(L=E.links)||void 0===L||null===(F=L.branches)||void 0===F?void 0:F.count}),Object(Y.jsx)(Sn,{})]})]})}):null,Object(Y.jsx)(An,{children:"categories"}),(null===(q=V.currentObject)||void 0===q?void 0:q.rubrics)?Object(Y.jsx)(Nn,{children:V.currentObject.rubrics.map((function(t){return Object(Y.jsx)(Vn,{children:Object(Y.jsx)(Tn,{children:t.name})},t.id)}))}):null]}):null]})},xr=function(t){window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify(t))},yr=Object(yt.a)((function(t){var e,n,r,i,o,a,c,s,l,u,d,p,b,g,h,j,v,m=t.searchStore,f=t.mapglStore,O=t.routTime,x=t.setIsDirectionCard,y=Object(D.useState)(!1),k=Object(X.a)(y,2),w=k[0],_=k[1],S=Object(D.useState)(!1),C=Object(X.a)(S,2),z=C[0],B=C[1],M=(null===(e=m.currentObject)||void 0===e?void 0:e.type)===I.branch||(null===(n=m.currentObject)||void 0===n?void 0:n.type)===I.building,P=function(t){if(ye.SHARE_INFO===t.type){var e,n,r,i="https://2gis.com.cy/cyprus/".concat((null===(e=m.currentObject)||void 0===e?void 0:e.type)===I.branch?"firm":"geo","/").concat(t.data),o="https://www.google.com/maps/search/?api=1&query=".concat(null===(n=m.currentObject)||void 0===n?void 0:n.point.lat,"%2C").concat(null===(r=m.currentObject)||void 0===r?void 0:r.point.lon);xr({type:ye.SHARE_INFO,data:"For NaviCY:\n".concat(i,"\n\nFor Google maps:\n").concat(o)})}else xr(t)};return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(un,{style:{display:m.currentObject?"flex":"none",height:w?"95%":""},children:[Object(Y.jsxs)(Le.a,{onSwipeUp:function(){_(M)},onSwipeDown:function(){_(!1)},children:[Object(Y.jsx)(Bn,{onClick:function(){x(!0)},children:Object(Y.jsx)(Mn,{style:{top:w?"75vh":"-35px",transition:"top 0.3s"}})}),M?Object(Y.jsx)(Pn,{}):null,Object(Y.jsxs)(pn,{style:{flexDirection:w?"row":"column",justifyContent:w?"space-around":"",alignItems:w?"center":""},children:[w?Object(Y.jsx)(Sn,{onClick:function(){return _(!1)}}):null,Object(Y.jsx)(gn,{children:(null===(r=m.currentObject)||void 0===r?void 0:r.name)?null===(i=m.currentObject)||void 0===i?void 0:i.name:"Utility structure"}),w?Object(Y.jsx)(Cn,{onClick:function(){var t;return P({type:ye.SHARE_INFO,data:m.currentObject?m.currentObject.type===I.building?null===(t=m.currentObject)||void 0===t?void 0:t.address.building_id:m.currentObject.id:""})},style:{marginLeft:"11px"}}):Object(Y.jsxs)(hn,{children:[Object(Y.jsx)(jn,{children:(null===(o=m.currentObject)||void 0===o?void 0:o.subtype)||(null===(a=m.currentObject)||void 0===a?void 0:a.purpose_name)||function(t){var e,n=Object(Ae.a)(Fe);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(t===r.type)return r.title}}catch(i){n.e(i)}finally{n.f()}return""}(null===(c=m.currentObject)||void 0===c?void 0:c.type)}),Object(Y.jsx)(jn,{children:O})]})]}),Object(Y.jsx)(dn,{})]}),(null===(s=m.currentObject)||void 0===s?void 0:s.type)===I.building?Object(Y.jsx)(Gn,{shareData:P,isOpen:w,searchStore:m,mapglStore:f,coordinates:[null===(l=m.currentObject.point)||void 0===l?void 0:l.lon,null===(u=m.currentObject.point)||void 0===u?void 0:u.lat],setCompaniesListIsOpen:B}):null,(null===(d=m.currentObject)||void 0===d?void 0:d.type)===I.admDiv||(null===(p=m.currentObject)||void 0===p?void 0:p.type)===I.street?Object(Y.jsx)(Hn,{shareData:P,isOpen:w,searchStore:m,mapglStore:f,coordinates:[null===(b=m.currentObject.point)||void 0===b?void 0:b.lon,null===(g=m.currentObject.point)||void 0===g?void 0:g.lat]}):null,(null===(h=m.currentObject)||void 0===h?void 0:h.type)===I.branch?Object(Y.jsx)(Or,{shareData:P,setSwipeIsOpen:_,mapglStore:f,searchStore:m,isSwipeOpen:w,setCompaniesListIsOpen:B,coordinates:[null===(j=m.currentObject.point)||void 0===j?void 0:j.lon,null===(v=m.currentObject.point)||void 0===v?void 0:v.lat]}):null]}),z&&Object(Y.jsx)(Ye,{setIsOpen:B})]})})),kr=n.p+"static/media/myLocation.ff902024.svg",wr=n.p+"static/media/location.d2150911.svg",_r=ct.a.div(Un||(Un=Object($.a)(["\n  position: absolute;\n  z-index: 2;\n  width: 100%;\n  height: 144px;\n  background: #ffffff;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n"]))),Sr=ct.a.div(Zn||(Zn=Object($.a)(["\n  display: flex;\n"]))),Cr=ct.a.div(Qn||(Qn=Object($.a)(["\n  background-image: url(",");\n  background-repeat: no-repeat;\n  width: 18px;\n  height: 18px;\n  margin-left: 10px;\n  margin-top: 40px;\n"])),ot),Ir=ct.a.input(Yn||(Yn=Object($.a)(["\n  height: 24px;\n  width: 190px;\n  border: 0;\n  margin-left: 19px;\n"]))),Dr=ct.a.div(Jn||(Jn=Object($.a)(["\n  background-image: url(",");\n  width: 24px;\n  height: 24px;\n"])),wr),zr=ct.a.div(Kn||(Kn=Object($.a)(["\n  display: flex;\n  justify-content: center;\n  margin-left: 16px;\n  margin-top: 36px;\n  max-height: 40px;\n"]))),Br=ct.a.div(Xn||(Xn=Object($.a)(["\n  position: absolute;\n  top: 87px;\n  left: 90px;\n  height: 1px;\n  width: 100%;\n  background: rgba(33, 33, 33, 0.08);\n"]))),Mr=ct.a.div($n||($n=Object($.a)(["\n  margin-top: 42px;\n  margin-left: 44px;\n  display: flex;\n"]))),Pr=ct.a.p(tr||(tr=Object($.a)(["\n  background-image: url(",");\n  height: 24px;\n  width: 24px;\n  background-repeat: no-repeat;\n  background-position: center;\n"])),Je),Rr=ct.a.div(er||(er=Object($.a)(["\n  margin-left: 19px;\n"]))),Ar=Object(yt.a)((function(t){var e,n,r,i,o,a=t.searchStore,c=t.onDirectionInputBack;return Object(Y.jsxs)(_r,{children:[Object(Y.jsxs)(Sr,{children:[Object(Y.jsx)(Cr,{onClick:function(){c()}}),Object(Y.jsxs)(zr,{children:[Object(Y.jsx)(Dr,{}),Object(Y.jsx)(Ir,{placeholder:"Your location"})]})]}),Object(Y.jsx)(Br,{}),Object(Y.jsxs)(Mr,{children:[Object(Y.jsx)(Pr,{}),Object(Y.jsx)(Rr,{children:(null===(e=a.currentObject)||void 0===e?void 0:e.address_name)&&(null===(n=a.currentObject.address)||void 0===n?void 0:n.postcode)&&a.currentObject.address_name+", "+(null===(r=a.currentObject.address)||void 0===r?void 0:r.postcode)||(null===(i=a.currentObject)||void 0===i?void 0:i.name)||(null===(o=a.currentObject)||void 0===o?void 0:o.full_name)})]})]})})),Er=n.p+"static/media/check.534132f2.svg",Lr=n.p+"static/media/two-gis-disabled.62eb014c.svg",Fr=n.p+"static/media/google.9c3e727e.svg",qr=n.p+"static/media/waze.42aec150.svg",Vr=n.p+"static/media/osm.3f290348.svg",Tr=ct.a.div(nr||(nr=Object($.a)(["\n  position: absolute;\n  bottom: 0;\n  background: #ffffff;\n  z-index: 52;\n  width: 100%;\n  height: 220px;\n  text-align: center;\n"]))),Nr=ct.a.div(rr||(rr=Object($.a)(["\n  width: 100%;\n  height: 60px;\n  display: grid;\n  grid-template-columns: 50% 50%;\n  padding: 10px 16px 0 16px;\n  margin-bottom: 24px;\n"]))),Wr=ct.a.div(ir||(ir=Object($.a)(["\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: 50% 50%;\n  grid-template-rows: 50% 50;\n  padding: 9px;\n"]))),Gr=ct.a.div(or||(or=Object($.a)(["\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  line-height: 24px;\n  letter-spacing: 0.15px;\n  color: rgba(0, 0, 0, 0.87);\n"]))),Hr=ct.a.div(ar||(ar=Object($.a)(["\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 20px;\n  letter-spacing: 0.25px;\n  color: rgba(0, 0, 0, 0.6);\n"]))),Ur=ct.a.button(cr||(cr=Object($.a)(["\n  width: 315px;\n  height: 48px;\n  background: #23b064;\n  border-radius: 12px;\n  margin-bottom: 10px;\n\n  font-style: normal;\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 16px;\n  text-align: center;\n  color: #ffffff;\n"]))),Zr=ct.a.div(sr||(sr=Object($.a)(["\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 20px;\n  letter-spacing: 0.25px;\n  color: rgba(0, 0, 0, 0.6);\n"]))),Qr=ct.a.div(lr||(lr=Object($.a)(["\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-position: center;\n  width: 100%;\n  height: 20px;\n"])),Er),Yr=ct.a.div(ur||(ur=Object($.a)(["\n  position: absolute;\n  bottom: 0;\n  background: #ffffff;\n  z-index: 54;\n  width: 100%;\n  height: 20%;\n  text-align: center;\n  border-radius: 16px 16px 0 0;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n"]))),Jr=ct.a.div(dr||(dr=Object($.a)(["\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: #ebebeb;\n  border-radius: 17px;\n  width: 48px;\n  height: 48px;\n"])),Lr),Kr=ct.a.div(pr||(pr=Object($.a)(["\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: #ebebeb;\n  border-radius: 17px;\n  width: 48px;\n  height: 48px;\n"])),Fr),Xr=ct.a.div(br||(br=Object($.a)(["\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: #ebebeb;\n  border-radius: 17px;\n  width: 48px;\n  height: 48px;\n"])),qr),$r=ct.a.div(gr||(gr=Object($.a)(["\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: #ebebeb;\n  border-radius: 17px;\n  width: 48px;\n  height: 48px;\n"])),Vr),ti=ct.a.div(hr||(hr=Object($.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),ei=ct.a.div(jr||(jr=Object($.a)(["\n  z-index: 53;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.8);\n"]))),ni=ct.a.div(vr||(vr=Object($.a)(["\n  font-family: Roboto;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 15px;\n  line-height: 19px;\n  align-items: center;\n  text-align: center;\n"])));!function(t){t.faster="jam",t.shorter="shortest"}(mr||(mr={}));var ri,ii,oi,ai,ci,si,li,ui=Object(yt.a)((function(t){var e=t.directionsStore,n=t.searchStore,r=t.mapglStore,i=t.currentGeolocation,o=Object(D.useState)(mr.faster),a=Object(X.a)(o,2),c=a[0],s=a[1],l=Object(D.useState)(null),u=Object(X.a)(l,2),d=u[0],p=u[1],b=Object(D.useState)(null),g=Object(X.a)(b,2),h=g[0],j=g[1],v=Object(D.useState)(!1),m=Object(X.a)(v,2),f=m[0],O=m[1];return Object(D.useEffect)((function(){var t,o,a;n.currentObject&&(r.currentMarkerCoords||n.currentObject.point)&&(t=r.currentMarkerCoords||[n.currentObject.point.lon,n.currentObject.point.lat],o=c,a=c===mr.faster?"#23B064":"#BBD4EC",e.buildDirection([i.longitude,i.latitude],t,o,a)).then((function(t){n.currentObject&&(r.currentMarkerCoords||n.currentObject.point)&&e.getDirection([i.longitude,i.latitude],r.currentMarkerCoords||[n.currentObject.point.lon,n.currentObject.point.lat],mr.faster).then((function(t){p(t.data[0])})),n.currentObject&&(r.currentMarkerCoords||n.currentObject.point)&&e.getDirection([i.longitude,i.latitude],r.currentMarkerCoords||[n.currentObject.point.lon,n.currentObject.point.lat],mr.shorter).then((function(t){j(t.data[0])}))}))}),[c,e,n.currentObject]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(Tr,{children:[Object(Y.jsxs)(Nr,{children:[Object(Y.jsxs)(Wr,{onClick:function(){c!==mr.faster&&r.destroyDirection(),s(mr.faster)},style:c===mr.faster?{border:"1px solid  #dafae8",background:"#92c9ab",borderRadius:"3px"}:{},children:[Object(Y.jsxs)(Gr,{children:[((null===h||void 0===h?void 0:h.duration)/60).toFixed(1)," min"]}),Object(Y.jsx)(Qr,{}),Object(Y.jsxs)(Hr,{children:[((null===h||void 0===h?void 0:h.distance)/1e3).toFixed(1)," km"]}),Object(Y.jsx)("div",{children:"shorter "})]}),Object(Y.jsxs)(Wr,{onClick:function(){c!==mr.shorter&&r.destroyDirection(),s(mr.shorter)},style:c===mr.shorter?{border:"1px solid  #dafae8",background:"#92c9ab",borderRadius:"3px"}:{},children:[Object(Y.jsxs)(Gr,{children:[((null===d||void 0===d?void 0:d.duration)/60).toFixed(1)," min"]}),Object(Y.jsx)("div",{}),Object(Y.jsxs)(Hr,{children:[((null===d||void 0===d?void 0:d.distance)/1e3).toFixed(1)," km"]}),Object(Y.jsx)("div",{children:"faster "})]})]}),Object(Y.jsx)(Ur,{onClick:function(){return O(!0)},children:"Let`s go"}),Object(Y.jsx)(Zr,{children:"You have 28 routes left"})]}),f&&Object(Y.jsx)(ei,{onClick:function(){return O(!1)},children:Object(Y.jsxs)(Yr,{children:[Object(Y.jsxs)(ti,{children:[Object(Y.jsx)(Jr,{}),Object(Y.jsx)(ni,{style:{color:"#9D9D9D"},children:"2GIS"})]}),Object(Y.jsxs)(ti,{children:[Object(Y.jsx)(Xr,{}),Object(Y.jsx)(ni,{children:"Waze"})]}),Object(Y.jsxs)(ti,{onClick:function(){var t,e;return xr({type:ye.ROUTE,data:"".concat(null===(t=n.currentObject)||void 0===t?void 0:t.point.lat,",").concat(null===(e=n.currentObject)||void 0===e?void 0:e.point.lon)})},children:[Object(Y.jsx)(Kr,{}),Object(Y.jsx)(ni,{children:"Google Maps"})]}),Object(Y.jsxs)(ti,{children:[Object(Y.jsx)($r,{}),Object(Y.jsx)(ni,{children:"OSM"})]})]})})]})})),di=n.p+"static/media/zoom-plus.b4f42d51.svg",pi=n.p+"static/media/zoom-minus.29cdd6d7.svg",bi=n(41),gi=n(77),hi=n(20),ji=ct.a.div(ri||(ri=Object($.a)(["\n  display: flex;\n  justify-content: center;\n"]))),vi=ct.a.div(ii||(ii=Object($.a)(["\n  width: 100vh;\n  height: 100vh;\n  overflow: hidden;\n"]))),mi=ct.a.div(oi||(oi=Object($.a)(["\n  width: 56px;\n  height: 56px;\n  border-radius: 100%;\n  top: 55%;\n  left: 83%;\n  background-color: #ffffff;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(",");\n  filter: drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.1))\n    drop-shadow(2px 2px 10px rgba(0, 0, 0, 0.08));\n  &:active {\n    opacity: 0.5;\n  }\n"])),kr),fi=ct.a.div(ai||(ai=Object($.a)(["\n  position: fixed;\n  left: 83%;\n  height: 165px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n"]))),Oi=ct.a.div(ci||(ci=Object($.a)(["\n  filter: drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.15))\n    drop-shadow(4px 4px 6px rgba(0, 0, 0, 0.06));\n"]))),xi=ct.a.div(si||(si=Object($.a)(["\n  width: 46px;\n  height: 46px;\n  background-color: #ffffff;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(",");\n  border-radius: 10px 10px 0px 0px;\n  &:active {\n    opacity: 0.5;\n  }\n"])),di),yi=ct.a.div(li||(li=Object($.a)(["\n  width: 46px;\n  height: 46px;\n  background-color: #ffffff;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url(",");\n  border-radius: 0px 0px 10px 10px;\n  margin-top: 4px;\n  &:active {\n    opacity: 0.5;\n  }\n"])),pi),ki=z.a.memo((function(){return Object(Y.jsx)(vi,{id:"container"})}),(function(){return!0})),wi=Object(yt.a)((function(){var t=et(),e=nt(),n=tt().directionsStore,r=Object(D.useRef)(null),i=Object(D.useState)(null),o=Object(X.a)(i,2),a=o[0],c=o[1],s=Object(D.useState)(!1),l=Object(X.a)(s,2),u=l[0],d=l[1],p=Object(D.useState)(!1),b=Object(X.a)(p,2),g=b[0],h=b[1],j=Object(D.useState)(!1),v=Object(X.a)(j,2),m=v[0],f=v[1],O=Object(D.useState)(!0),x=Object(X.a)(O,2),y=x[0],k=x[1],w=Object(D.useState)(!0),_=Object(X.a)(w,2),S=_[0],C=_[1],I=Object(D.useState)(1),z=Object(X.a)(I,2),B=z[0],M=z[1],P=Object(D.useState)(!1),R=Object(X.a)(P,2);R[0],R[1];Object(D.useEffect)((function(){return t.loadMapglAPI().then((function(){c(t.loadMapgl("container",{center:t.myLocation,zoom:13,key:"22eaf1a9-bdb9-40e6-b0e1-290ddefc6f94"})),t.setLocationMarker(t.myLocation)})),function(){return a&&a.destroy()}}),[]);var A=Object(bi.a)({enableHighAccuracy:!0});Object(D.useEffect)((function(){return function(e){t.locationMarker&&t.locationMarker.destroy(),S&&t.setCenter([e.longitude,e.latitude]),console.log("onGeoUpdate"),t.setLocationMarker([e.longitude,e.latitude])}(A)}),[A]),Object(D.useEffect)((function(){return a&&a.on("click",q),function(){a&&a.off("click",q)}}),[a]),Object(D.useEffect)((function(){return a&&a.on("zoomend",E),function(){a&&a.off("zoomend",E)}}),[a]),Object(D.useEffect)((function(){return a&&a.on("moveend",E),function(){a&&a.off("moveend",E)}}),[a]);var E=function(){var n=Object(W.a)(N.a.mark((function n(r){var i,o,c,s;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("event"),!(t.markers.length>1)){n.next=20;break}if(t.markers&&t.destroyMarkers(),o=e.reqParams,c=null===a||void 0===a?void 0:a.getBounds(),"id"!==(null===o||void 0===o?void 0:o.type)){n.next=12;break}return console.log("id"),n.next=9,e.getSearchResults(o.params.idType,o.params.id,null===c||void 0===c?void 0:c.northEast,null===c||void 0===c?void 0:c.southWest,50);case 9:s=n.sent,n.next=17;break;case 12:if("query"!==(null===o||void 0===o?void 0:o.type)){n.next=17;break}return console.log("query"),n.next=16,e.getSearchResultsByQuery(o.params.query,null===c||void 0===c?void 0:c.northEast,null===c||void 0===c?void 0:c.southWest);case 16:s=n.sent;case 17:console.log(s),null===(i=s)||void 0===i||i.map((function(e){if(e.point){var n=t.buildMarker([e.point.lon,e.point.lat]);null===n||void 0===n||n.on("click",(function(){L(n,e)}))}})),k(!1);case 20:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),L=function(n,r){m||(t.currentMarker&&t.currentMarker.setIcon({icon:"./marker.svg"}),t.setCurrentMarker(n),n.setIcon({icon:"./red-marker.svg"}),e.setCurrentObject(r),d(!0),t.setCurrentMarkerCoords([r.point.lon,r.point.lat]))},F=(Object(gi.a)(E,200),function(){t.destroyPolygon(),t.destroyMarkers(),t.destroyDirection(),a&&a.setSelectedObjects([])}),q=function(n){var i,o,c,s,l;(e.setReqParams(null),r&&(null===(i=r.current)||void 0===i||i.blur()),m)||(console.log("dd"),F(),(null===(o=r.current)||void 0===o?void 0:o.value)&&(r.current.value=""),t.buildMarker(n.lngLat),t.setCurrentMarkerCoords(n.lngLat),(null===(c=n.target)||void 0===c?void 0:c.id)?(a&&a.setSelectedObjects([null===(s=n.target)||void 0===s?void 0:s.id]),e.getObjectById(null===(l=n.target)||void 0===l?void 0:l.id).then((function(t){var n;t&&e.setCurrentObject(null===(n=t.result)||void 0===n?void 0:n.items[0]),C(!1),d(!0)}))):e.getObjectByGeo(n.lngLat).then((function(n){var r,i;if(null===(r=n.data)||void 0===r||null===(i=r.result)||void 0===i?void 0:i.items){var o,a,c,s,l=hi(null===(o=n.data)||void 0===o||null===(a=o.result)||void 0===a?void 0:a.items[0].geometry.selection);e.setCurrentObject(null===(c=n.data)||void 0===c||null===(s=c.result)||void 0===s?void 0:s.items[0]),C(!1),d(!0),"number"!==typeof l.coordinates[0]&&t.buildPolygon(l.coordinates)}})))};return Object(Y.jsxs)(ji,{children:[m?Object(Y.jsx)(Ar,{searchStore:e,onDirectionInputBack:function(){t.destroyDirection(),d(!0),f(!1)}}):Object(Y.jsx)(ht,{searchStore:e,mapglStore:t,setOpenObjectCard:d,setIsEnterPressed:h,setIsResultsOpen:k,searchInputRef:r,destroyAll:F}),!u&&!m&&Object(Y.jsx)(Re,{searchStore:e,destroyAll:F,mapglStore:t,searchInputRef:r,setIsMarkerCentred:C,setOpenObjectCard:d,isEnterPressed:g,isResultsOpen:y,setIsResultsOpen:k,isDirectionCard:m}),u&&!m&&Object(Y.jsx)(yr,{searchStore:e,mapglStore:t,routTime:"7 km (16 min)",setIsDirectionCard:f}),m&&Object(Y.jsx)(ui,{currentGeolocation:A,mapglStore:t,directionsStore:n,searchStore:e}),Object(Y.jsx)(ki,{}),Object(Y.jsxs)(fi,{style:{top:u?"27%":"40%",transition:"top 0.3s"},children:[Object(Y.jsxs)(Oi,{children:[Object(Y.jsx)(xi,{onClick:function(){var t=null===a||void 0===a?void 0:a.getZoom();t&&(null===a||void 0===a||a.setZoom(t+1))}}),Object(Y.jsx)(yi,{onClick:function(){var t=null===a||void 0===a?void 0:a.getZoom();t&&t>1&&(null===a||void 0===a||a.setZoom(t-1))}})]}),Object(Y.jsx)(mi,{style:S?{backgroundColor:"#23B064"}:{},onClick:function(){return M(B+1),void(1!==B&&2!==B||setTimeout((function(){1===B?S?C(!1):(t.locationMarker||t.setLocationMarker([A.longitude,A.latitude]),null===a||void 0===a||a.setCenter([A.longitude,A.latitude])):C(!0),M(1)}),500))}})]})]})})),_i=n(42),Si=n.n(_i),Ci=function(t){Object(kt.a)(n,t);var e=Object(wt.a)(n);function n(){return Object(P.a)(this,n),e.apply(this,arguments)}return Object(A.a)(n,[{key:"getDirections",value:function(){var t=Object(W.a)(N.a.mark((function t(e,n,r){var i,o;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={points:[{lon1:e[0],lat1:e[1],lon2:n[0],lat2:n[1]}],type:r,output:"full"},t.next=3,this.axios.post("get_pairs/1.0/car?key=".concat("rultzf6771"),i);case 3:return o=t.sent,t.abrupt("return",o);case 5:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),n}(_t),Ii=function(t){return{search:new we(t),directions:new Ci(t)}},Di=function(){var t=Si.a.create({baseURL:"https://catalog.api.2gis.com/",timeout:3e3,headers:{"Content-Type":"application/json",Accept:"application/json"}});return Ii(t)},zi=(n(74),function(){return window.history.pushState(null,"",window.location.href),window.onpopstate=function(t){window.history.go(1)},Object(Y.jsx)(wi,{})}),Bi=function(){var t=Di(),e=new Q(t);return Object(Y.jsx)(K,{store:e,children:Object(Y.jsx)(zi,{})})},Mi=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),r(t),i(t),o(t),a(t)}))};M.a.render(Object(Y.jsx)(z.a.StrictMode,{children:Object(Y.jsx)(Bi,{})}),document.getElementById("root")),Mi()}},[[75,1,2]]]);
//# sourceMappingURL=main.50b698b8.chunk.js.map